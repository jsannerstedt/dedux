!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.dedux={})}(this,function(n){"use strict";function e(){var n=[];return{on:function(e){return n.push(e),function(){return n.splice(n.indexOf(e),1)}},trigger:function(e){return n.forEach(function(n){return n(e)})}}}function t(){for(var n,e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return(n=Object).assign.apply(n,[{}].concat(t))}function r(){var n=e(),t=function(e){return n.trigger(e)};return t.subscribe=n.on,t}var u=function(n,e,t){return Object.keys(n).reduce(e,t)},c=function(n){return u(n,function(e,t){return u(n[t],function(e,r){var u=n[t][r];return u.namespace=t,e[r]=e[r]||[],e[r].push(u),e},e)},{})},i=function(n){return n.reduce(function(n,e){return n[e]=r(),n},{})},o=function(n,r,u){function c(e,t){n[e]&&(i(n[e],t),o.trigger(f))}function i(n,e){n.forEach(function(n){return f[n.namespace]=t(f[n.namespace],n(e,f[n.namespace]))})}var o=e(),f={};return i(n.initialState||[]),f=t(f,u),Object.keys(n).forEach(function(n){return r[n]&&r[n].subscribe(function(e){return c(n,e)})}),{subscribe:o.on,getState:function(){return f}}};n.createStore=o,n.createActions=i,n.combineModifiers=c});