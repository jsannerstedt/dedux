!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.dedux={})}(this,function(n){"use strict";function e(){var n=[],e=function(e){return n.forEach(function(n){return n(e)})};return e.subscribe=function(e){return n.push(e),function(){return n.splice(n.indexOf(e),1)}},e}var t=function(n,e,t){return Object.keys(n).reduce(e,t)},r=function(n){return t(n,function(e,r){return t(n[r],function(e,t){var u=n[r][t];return u.key=r,e[t]=e[t]||[],e[t].push(u),e},e)},{})},u=function(n){return n.reduce(function(n,t){return n[t]=e(),n},{})},i=function(n,t,r){function u(e,t){n[e]&&(i(n[e],t),c(o))}function i(n,e){n.forEach(function(n){return o[n.key]=Object.assign(o[n.key]||{},n(e,o[n.key]))})}var c=e(),o={};return i(n.initialState||[]),Object.assign(o,r),Object.keys(n).forEach(function(n){return t[n]&&t[n].subscribe(function(e){return u(n,e)})}),{subscribe:c.subscribe,getState:function(){return o}}};n.createStore=i,n.createActions=u,n.combineModifiers=r});